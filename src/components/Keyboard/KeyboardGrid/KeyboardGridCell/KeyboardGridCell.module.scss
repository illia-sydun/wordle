@import '@styles';

.container {
    @include clickable;

    position: relative;
    padding: 1.25rem 1.75rem;

    color: $font-primary;
    font-size: 2rem;
    font-weight: 700;
    text-align: center;
    text-transform: uppercase;

    background-color: transparent;
    box-shadow: 1px 1px 3px $gray;

    border-radius: 0.5rem;

    transform-style: preserve-3d;
    transition:
        100ms cubic-bezier(0, 0, 0.6, 1),
        background-color,
        border-color,
        color 100ms;

    &::before {
        content: '';

        position: absolute;
        inset: 0;

        width: 100%;
        height: 100%;

        box-shadow: 1px 1px 3px $gray;
        border-radius: 0.5rem;

        transform: translate3d(0.5rem, 0.5rem, -1rem);
        transition: 100ms cubic-bezier(0, 0, 0.6, 1);
    }

    &.match {
        background-color: $success;
        border-color: $success;
    }

    &.close_match {
        background-color: $warning;
        border-color: $warning;
    }

    &.no_match {
        background-color: $disabled;
        color: $lightgray;
        border-color: $disabled;
    }

    &[data-is-clicking-transition='true'][data-keyboard-grid-cell-status='no_match'] {
        @include animation-shake;
    }

    &:is(:active, &[data-is-clicking-transition='true']):not(
            &[data-keyboard-grid-cell-status='no_match']
        ) {
        transform: translate(0.5rem, 0.5rem);

        &::before {
            transform: translate3d(0, 0, -1rem);
        }
    }

    // @TODO use :is?
    &:active[data-keyboard-grid-cell-status='no_match'] {
        @include animation-shake;
    }

    // @TODO wtf
    &:focus,
    &:active {
        outline-color: $lightgray;
    }

    &:hover:not([data-keyboard-grid-cell-status='no_match']) {
        // @TODO border and outline colors
        border-color: unset;
        transform: translate(0.25rem, 0.25rem);

        &::before {
            transform: translate3d(0.25rem, 0.25rem, -1rem);
        }
    }

    &[data-keyboard-grid-cell-value='enter'],
    &[data-keyboard-grid-cell-value='backspace'],
    &[data-keyboard-grid-cell-value='escape'] {
        margin: unset;
    }
}
